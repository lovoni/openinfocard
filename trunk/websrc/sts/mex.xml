<s:Envelope xmlns:s="http://www.w3.org/2003/05/soap-envelope" xmlns:a="http://www.w3.org/2005/08/addressing">
    <s:Header>
        <a:Action s:mustUnderstand="1">http://schemas.xmlsoap.org/ws/2004/09/transfer/GetResponse</a:Action>
        <a:RelatesTo>{0}</a:RelatesTo>
    </s:Header>
    <s:Body>
        <Metadata xmlns="http://schemas.xmlsoap.org/ws/2004/09/mex"
                  xmlns:wsx="http://schemas.xmlsoap.org/ws/2004/09/mex">
            <wsx:MetadataSection Dialect="http://schemas.xmlsoap.org/wsdl/"
                                 Identifier="http://schemas.xmlsoap.org/ws/2005/02/trust" xmlns="">
                <wsdl:definitions targetNamespace="http://schemas.xmlsoap.org/ws/2005/02/trust"
                                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                                  xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
                                  xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                                  xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/"
                                  xmlns:tns="http://schemas.xmlsoap.org/ws/2005/02/trust"
                                  xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/08/addressing"
                                  xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
                                  xmlns:wsap="http://schemas.xmlsoap.org/ws/2004/08/addressing/policy"
                                  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                                  xmlns:msc="http://schemas.microsoft.com/ws/2005/12/wsdl/contract"
                                  xmlns:wsaw="http://www.w3.org/2006/05/addressing/wsdl"
                                  xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/"
                                  xmlns:wsa10="http://www.w3.org/2005/08/addressing">
                    <wsdl:types>
                        <xsd:schema targetNamespace="http://schemas.xmlsoap.org/ws/2005/02/trust/Imports">
                            <xsd:import namespace="http://schemas.microsoft.com/Message"/>
                        </xsd:schema>
                    </wsdl:types>
                    <wsdl:message name="ISecurityTokenService_IssueToken_InputMessage">
                        <wsdl:part name="rstMessage" element="q1:MessageBody"
                                   xmlns:q1="http://schemas.message.com/Message"/>
                    </wsdl:message>
                    <wsdl:message name="ISecurityTokenService_IssueToken_OutputMessage">
                        <wsdl:part name="IssueTokenResult" element="q2:MessageBody"
                                   xmlns:q2="http://schemas.message.com/Message"/>
                    </wsdl:message>
                    <wsdl:portType name="ISecurityTokenService">
                        <wsdl:operation name="IssueToken">
                            <wsdl:input wsap10:Action="http://schemas.xmlsoap.org/ws/2005/02/trust/RST/Issue"
                                        message="tns:ISecurityTokenService_IssueToken_InputMessage"/>
                            <wsdl:output wsap10:Action="http://schemas.xmlsoap.org/ws/2005/02/trust/RSTR/Issue"
                                         message="tns:ISecurityTokenService_IssueToken_OutputMessage"/>
                        </wsdl:operation>
                    </wsdl:portType>
                </wsdl:definitions>
            </wsx:MetadataSection>
            <wsx:MetadataSection Dialect="http://schemas.xmlsoap.org/wsdl/" Identifier="http://tempuri.org/" xmlns="">
                <wsdl:definitions name="SecurityTokenService" targetNamespace="http://tempuri.org/"
                                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                                  xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                                  xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/"
                                  xmlns:wsap10="http://www.w3.org/2006/05/addressing/wsdl"
                                  xmlns:i0="http://xmlsoap.org/DAB"
                                  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                                  xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
                                  xmlns:tns="http://tempuri.org/"
                                  xmlns:soap12="http://schemas.xmlsoap.org/wsdl/soap12/"
                                  xmlns:wsx="http://schemas.xmlsoap.org/ws/2004/09/mex"
                                  xmlns:wsa10="http://www.w3.org/2005/08/addressing">
                    <wsp:Policy wsu:Id="ISecurityTokenService_policy">
                        <wsp:ExactlyOne>
                            <wsp:All>
                                <sp:SymmetricBinding xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <wsp:Policy>
                                        <sp:ProtectionToken>
                                            <wsp:Policy>
                                                <sp:X509Token
                                                        sp:IncludeToken="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/Never">
                                                    <wsp:Policy>
                                                        <sp:RequireDerivedKeys/>
                                                        <sp:RequireThumbprintReference/>
                                                        <sp:WssX509V3Token10/>
                                                    </wsp:Policy>
                                                </sp:X509Token>
                                            </wsp:Policy>
                                        </sp:ProtectionToken>
                                        <sp:AlgorithmSuite>
                                            <wsp:Policy>
                                                <sp:Basic128/>
                                            </wsp:Policy>
                                        </sp:AlgorithmSuite>
                                        <sp:Layout>
                                            <wsp:Policy>
                                                <sp:Lax/>
                                            </wsp:Policy>
                                        </sp:Layout>
                                        <sp:IncludeTimestamp/>
                                        <sp:EncryptSignature/>
                                        <sp:OnlySignEntireHeadersAndBody/>
                                    </wsp:Policy>
                                </sp:SymmetricBinding>
                                <sp:SignedSupportingTokens
                                        xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <wsp:Policy>
                                        <sp:UsernameToken
                                                sp:IncludeToken="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy/IncludeToken/AlwaysToRecipient">
                                            <wsp:Policy>
                                                <sp:WssUsernameToken10/>
                                            </wsp:Policy>
                                        </sp:UsernameToken>
                                    </wsp:Policy>
                                </sp:SignedSupportingTokens>
                                <sp:Wss11 xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <wsp:Policy>
                                        <sp:MustSupportRefKeyIdentifier/>
                                        <sp:MustSupportRefIssuerSerial/>
                                        <sp:MustSupportRefThumbprint/>
                                        <sp:MustSupportRefEncryptedKey/>
                                        <!--sp:RequireSignatureConfirmation/-->
                                    </wsp:Policy>
                                </sp:Wss11>
                                <sp:Trust10 xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <wsp:Policy>
                                        <sp:MustSupportIssuedTokens/>
                                        <sp:RequireClientEntropy/>
                                        <sp:RequireServerEntropy/>
                                    </wsp:Policy>
                                </sp:Trust10>
                                <wsap10:UsingAddressing/>
                            </wsp:All>
                        </wsp:ExactlyOne>
                    </wsp:Policy>
                    <wsp:Policy wsu:Id="ISecurityTokenService_IssueToken_Input_policy">
                        <wsp:ExactlyOne>
                            <wsp:All>
                                <sp:SignedParts xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <sp:Body/>
                                    <sp:Header Name="To" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="From" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="FaultTo" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="ReplyTo" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="MessageID" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="RelatesTo" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="Action" Namespace="http://www.w3.org/2005/08/addressing"/>
                                </sp:SignedParts>
                                <sp:EncryptedParts xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <sp:Body/>
                                </sp:EncryptedParts>
                            </wsp:All>
                        </wsp:ExactlyOne>
                    </wsp:Policy>
                    <wsp:Policy wsu:Id="ISecurityTokenService_IssueToken_Output_policy">
                        <wsp:ExactlyOne>
                            <wsp:All>
                                <sp:SignedParts xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <sp:Body/>
                                    <sp:Header Name="To" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="From" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="FaultTo" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="ReplyTo" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="MessageID" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="RelatesTo" Namespace="http://www.w3.org/2005/08/addressing"/>
                                    <sp:Header Name="Action" Namespace="http://www.w3.org/2005/08/addressing"/>
                                </sp:SignedParts>
                                <sp:EncryptedParts xmlns:sp="http://schemas.xmlsoap.org/ws/2005/07/securitypolicy">
                                    <sp:Body/>
                                </sp:EncryptedParts>
                            </wsp:All>
                        </wsp:ExactlyOne>
                    </wsp:Policy>

                    <wsdl:import namespace="http://schemas.xmlsoap.org/ws/2005/02/trust" location=""/>
                    <wsdl:types/>


                    <wsdl:binding name="ISecurityTokenService_Binding" type="tns:ISecurityTokenService">
                        <wsp:PolicyReference URI="#ISecurityTokenService_policy"/>
                        <soap12:binding transport="http://schemas.xmlsoap.org/soap/http"/>
                        <wsdl:operation name="IssueToken">
                            <soap12:operation soapAction="http://schemas.xmlsoap.org/ws/2005/02/trust/RST/Issue"
                                              style="document"/>
                            <wsdl:input>
                                <wsp:PolicyReference URI="#ISecurityTokenService_IssueToken_Input_policy"/>
                                <soap12:body use="literal"/>
                            </wsdl:input>
                            <wsdl:output>
                                <wsp:PolicyReference URI="#ISecurityTokenService_IssueToken_Output_policy"/>
                                <soap12:body use="literal"/>
                            </wsdl:output>
                        </wsdl:operation>
                    </wsdl:binding>


                    <wsdl:service name="SecurityTokenService">
                        <wsdl:port name="ISecurityTokenService_Port" binding="tns:ISecurityTokenService_Binding">

                            <soap12:address location="http://xmldap.org/jaxws-sts/sts"/>
                            <wsa10:EndpointReference>
                                <wsa10:Address>http://xmldap.org/jaxws-sts/sts</wsa10:Address>
                                <Identity xmlns="http://schemas.xmlsoap.org/ws/2006/02/addressingidentity">
                                    <KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
                                        <X509Data>
                                            <X509Certificate>{1}</X509Certificate>
                                        </X509Data>
                                    </KeyInfo>
                                </Identity>
                            </wsa10:EndpointReference>

                        </wsdl:port>
                    </wsdl:service>
                </wsdl:definitions>

            </wsx:MetadataSection>
            <wsx:MetadataSection Dialect="http://www.w3.org/2001/XMLSchema"
                                 Identifier="http://schemas.microsoft.com/Message" xmlns="">
                <xs:schema elementFormDefault="qualified" targetNamespace="http://schemas.microsoft.com/Message"
                           xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://schemas.microsoft.com/Message">
                    <xs:complexType name="MessageBody">
                        <xs:sequence>
                            <xs:any minOccurs="0" maxOccurs="unbounded" namespace="##any"/>
                        </xs:sequence>
                    </xs:complexType>
                </xs:schema>
            </wsx:MetadataSection>
        </Metadata>
    </s:Body>
</s:Envelope>
         